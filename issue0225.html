<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>C issue 0225: strtod, strtof and strtold expected form of the subject sequence</title>
<style>
pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.hll { background-color: #ffffcc }
.c { color: #3D7B7B; font-style: italic } /* Comment */
.err { border: 1px solid #FF0000 } /* Error */
.k { color: #008000; font-weight: bold } /* Keyword */
.o { color: #666666 } /* Operator */
.ch { color: #3D7B7B; font-style: italic } /* Comment.Hashbang */
.cm { color: #3D7B7B; font-style: italic } /* Comment.Multiline */
.cp { color: #9C6500 } /* Comment.Preproc */
.cpf { color: #3D7B7B; font-style: italic } /* Comment.PreprocFile */
.c1 { color: #3D7B7B; font-style: italic } /* Comment.Single */
.cs { color: #3D7B7B; font-style: italic } /* Comment.Special */
.gd { color: #A00000 } /* Generic.Deleted */
.ge { font-style: italic } /* Generic.Emph */
.ges { font-weight: bold; font-style: italic } /* Generic.EmphStrong */
.gr { color: #E40000 } /* Generic.Error */
.gh { color: #000080; font-weight: bold } /* Generic.Heading */
.gi { color: #008400 } /* Generic.Inserted */
.go { color: #717171 } /* Generic.Output */
.gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.gs { font-weight: bold } /* Generic.Strong */
.gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.gt { color: #0044DD } /* Generic.Traceback */
.kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.kp { color: #008000 } /* Keyword.Pseudo */
.kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.kt { color: #B00040 } /* Keyword.Type */
.m { color: #666666 } /* Literal.Number */
.s { color: #BA2121 } /* Literal.String */
.na { color: #687822 } /* Name.Attribute */
.nb { color: #008000 } /* Name.Builtin */
.nc { color: #0000FF; font-weight: bold } /* Name.Class */
.no { color: #880000 } /* Name.Constant */
.nd { color: #AA22FF } /* Name.Decorator */
.ni { color: #717171; font-weight: bold } /* Name.Entity */
.ne { color: #CB3F38; font-weight: bold } /* Name.Exception */
.nf { color: #0000FF } /* Name.Function */
.nl { color: #767600 } /* Name.Label */
.nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.nt { color: #008000; font-weight: bold } /* Name.Tag */
.nv { color: #19177C } /* Name.Variable */
.ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.w { color: #bbbbbb } /* Text.Whitespace */
.mb { color: #666666 } /* Literal.Number.Bin */
.mf { color: #666666 } /* Literal.Number.Float */
.mh { color: #666666 } /* Literal.Number.Hex */
.mi { color: #666666 } /* Literal.Number.Integer */
.mo { color: #666666 } /* Literal.Number.Oct */
.sa { color: #BA2121 } /* Literal.String.Affix */
.sb { color: #BA2121 } /* Literal.String.Backtick */
.sc { color: #BA2121 } /* Literal.String.Char */
.dl { color: #BA2121 } /* Literal.String.Delimiter */
.sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.s2 { color: #BA2121 } /* Literal.String.Double */
.se { color: #AA5D1F; font-weight: bold } /* Literal.String.Escape */
.sh { color: #BA2121 } /* Literal.String.Heredoc */
.si { color: #A45A77; font-weight: bold } /* Literal.String.Interpol */
.sx { color: #008000 } /* Literal.String.Other */
.sr { color: #A45A77 } /* Literal.String.Regex */
.s1 { color: #BA2121 } /* Literal.String.Single */
.ss { color: #19177C } /* Literal.String.Symbol */
.bp { color: #008000 } /* Name.Builtin.Pseudo */
.fm { color: #0000FF } /* Name.Function.Magic */
.vc { color: #19177C } /* Name.Variable.Class */
.vg { color: #19177C } /* Name.Variable.Global */
.vi { color: #19177C } /* Name.Variable.Instance */
.vm { color: #19177C } /* Name.Variable.Magic */
.il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
</head>
<body>
<h2>Issue 0225: <code>strtod</code>, <code>strtof</code> and <code>strtold</code> expected form of the subject sequence</h2>
<p><strong>This issue has been automatically converted from the original issue lists and some formatting may not have been preserved.</strong></p>
<p>Authors: Bill Plauger (US)<br />
Date: 2000-04-10<br />
Submitted against: C99<br />
Status: Fixed<br />
Fixed in: C99 TC2<br />
Converted from: <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/summary-c99.htm">summary-c99.htm</a>, <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/dr_225.htm">dr_225.htm</a></p>
<h3>Summary</h3>
<p>In <code>&lt;stdlib.h&gt;</code>, functions <code>strtod</code>, <code>strtof</code>, and <code>strtold</code> should permit an
implementation to recognize either <code>inf</code> or <code>infinity</code>, and either <code>nan</code> or
<code>nan(</code><em>n-char-sequence<sub>opt</sub></em> <code>)</code>, not just one of each.</p>
<h3>Suggested Technical Corrigendum</h3>
<p>In 7.20.1.3 replace:</p>
<blockquote>
<ul>
<li>one of <code>INF</code> or <code>INFINITY</code>, ignoring case</li>
<li>one of <code>NAN</code> or <code>NAN(</code><em>n-char-sequence<sub>opt</sub></em> <code>)</code>, ignoring case in the <code>NAN</code> part, where:</li>
</ul>
</blockquote>
<p>with:</p>
<blockquote>
<ul>
<li>either <code>INF</code> not followed by <code>I</code>, or <code>INFINITY</code>, ignoring case</li>
<li>either <code>NAN</code> not followed by a left parenthesis, or <code>NAN(</code><em>n-char-sequence<sub>opt</sub></em> <code>)</code>, ignoring case in the <code>NAN</code> part, where:</li>
</ul>
</blockquote>
<hr />
<p>Comment from WG14 on 2001-09-18:</p>
<h3>Committee Discussion (for history only)</h3>
<p>For the functions <code>strtod</code>, <code>strtof</code> and <code>strtold</code>, should the implementation
allow <code>INFI</code> to work as <code>INF</code> and leave the pointer at the next <code>I</code>, or should
it reject a sequence such as <code>INFINF</code> as an invalid sequence, that failed at the
second <code>F</code>.</p>
<p>The issue concerns what degree of pushback is necessary. But these are string
functions, not input functions, so they do not need push back. Furthermore,
7.19.6.2¶9 and the associated footnote, clearly indicates that there is no
requirement for the <code>strto*</code> functions to retain symmetric functionality with
fscanf, indeed that is noted as being explicitly different.</p>
<p>It was noted that while symmetry with <code>scanf</code> may have some attractiveness, that
the <code>strto*</code> functions cannot report that the input string did not match (no
error mechanism exists) and that it would just return ZERO. With scanf the error
is reported.</p>
<p>However, the issue in the DR really reduces to the use of the term <em>one of</em> on
the bullets in 7.20.1.3¶3. The discussion indicated we were in agreement with
Clive Feather's comments on this DR.</p>
<p>It was also observed that these changes also apply to the <code>wcsto*</code> functions in
7.24.4.1</p>
<hr />
<p>Comment from WG14 on 2001-09-18:</p>
<h3>Technical Corrigendum</h3>
<p>Remove the words 'one of' from the third and fourth bullets of 7.20.1.3¶3.</p>
<p>Remove the words 'one of' from the third and fourth bullets of 7.24.4.1¶3.</p>

</body>
</html>
