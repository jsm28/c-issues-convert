<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>C issue 0475: Misleading Atomic library references to atomic types</title>
<style>
pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.hll { background-color: #ffffcc }
.c { color: #3D7B7B; font-style: italic } /* Comment */
.err { border: 1px solid #FF0000 } /* Error */
.k { color: #008000; font-weight: bold } /* Keyword */
.o { color: #666666 } /* Operator */
.ch { color: #3D7B7B; font-style: italic } /* Comment.Hashbang */
.cm { color: #3D7B7B; font-style: italic } /* Comment.Multiline */
.cp { color: #9C6500 } /* Comment.Preproc */
.cpf { color: #3D7B7B; font-style: italic } /* Comment.PreprocFile */
.c1 { color: #3D7B7B; font-style: italic } /* Comment.Single */
.cs { color: #3D7B7B; font-style: italic } /* Comment.Special */
.gd { color: #A00000 } /* Generic.Deleted */
.ge { font-style: italic } /* Generic.Emph */
.ges { font-weight: bold; font-style: italic } /* Generic.EmphStrong */
.gr { color: #E40000 } /* Generic.Error */
.gh { color: #000080; font-weight: bold } /* Generic.Heading */
.gi { color: #008400 } /* Generic.Inserted */
.go { color: #717171 } /* Generic.Output */
.gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.gs { font-weight: bold } /* Generic.Strong */
.gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.gt { color: #0044DD } /* Generic.Traceback */
.kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.kp { color: #008000 } /* Keyword.Pseudo */
.kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.kt { color: #B00040 } /* Keyword.Type */
.m { color: #666666 } /* Literal.Number */
.s { color: #BA2121 } /* Literal.String */
.na { color: #687822 } /* Name.Attribute */
.nb { color: #008000 } /* Name.Builtin */
.nc { color: #0000FF; font-weight: bold } /* Name.Class */
.no { color: #880000 } /* Name.Constant */
.nd { color: #AA22FF } /* Name.Decorator */
.ni { color: #717171; font-weight: bold } /* Name.Entity */
.ne { color: #CB3F38; font-weight: bold } /* Name.Exception */
.nf { color: #0000FF } /* Name.Function */
.nl { color: #767600 } /* Name.Label */
.nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.nt { color: #008000; font-weight: bold } /* Name.Tag */
.nv { color: #19177C } /* Name.Variable */
.ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.w { color: #bbbbbb } /* Text.Whitespace */
.mb { color: #666666 } /* Literal.Number.Bin */
.mf { color: #666666 } /* Literal.Number.Float */
.mh { color: #666666 } /* Literal.Number.Hex */
.mi { color: #666666 } /* Literal.Number.Integer */
.mo { color: #666666 } /* Literal.Number.Oct */
.sa { color: #BA2121 } /* Literal.String.Affix */
.sb { color: #BA2121 } /* Literal.String.Backtick */
.sc { color: #BA2121 } /* Literal.String.Char */
.dl { color: #BA2121 } /* Literal.String.Delimiter */
.sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.s2 { color: #BA2121 } /* Literal.String.Double */
.se { color: #AA5D1F; font-weight: bold } /* Literal.String.Escape */
.sh { color: #BA2121 } /* Literal.String.Heredoc */
.si { color: #A45A77; font-weight: bold } /* Literal.String.Interpol */
.sx { color: #008000 } /* Literal.String.Other */
.sr { color: #A45A77 } /* Literal.String.Regex */
.s1 { color: #BA2121 } /* Literal.String.Single */
.ss { color: #19177C } /* Literal.String.Symbol */
.bp { color: #008000 } /* Name.Builtin.Pseudo */
.fm { color: #0000FF } /* Name.Function.Magic */
.vc { color: #19177C } /* Name.Variable.Class */
.vg { color: #19177C } /* Name.Variable.Global */
.vi { color: #19177C } /* Name.Variable.Instance */
.vm { color: #19177C } /* Name.Variable.Magic */
.il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
</head>
<body>
<h2>Issue 0475: Misleading Atomic library references to atomic types</h2>
<p><strong>This issue has been automatically converted from the original issue lists and some formatting may not have been preserved.</strong></p>
<p>Authors: WG14, Blaine Garst<br />
Date: 2015-04-15<br />
Reference document: <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n1927.htm">N1927</a><br />
Submitted against: C11 / C17<br />
Status: Fixed<br />
Fixed in: C17<br />
Converted from: <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2396.htm">n2396.htm</a></p>
<h3>Summary</h3>
<p>The 7.17 atomic library section of the standard and the syntax for atomic types
arose from different authors. The library section was adopted first and then
amended when the syntax proposal was approved during the development of the C11
Standard. The syntax is constructive and applies, with a few exceptions, to all
types, including floats and bitfields.</p>
<p>There are a few unfortunate phrasings remaining in the <strong>7.17 Atomics
&lt;stdatomic.h&gt;</strong> section, however, that have caused a small degree of confusion
and are worth fixing.</p>
<h3>Suggested Technical Corrigendum</h3>
<p>In <strong>7.17.1 Introduction</strong> p3 Replace</p>
<blockquote>
<p>and several atomic analogs of integer types.</p>
</blockquote>
<p>with</p>
<blockquote>
<p>and atomic types declared with the _Atomic or _Atomic() construct.</p>
</blockquote>
<p>In <strong>7.17.1 Introduction</strong> p5 Replace</p>
<blockquote>
<p>- An A refers to one of the atomic types.</p>
</blockquote>
<p>with</p>
<blockquote>
<p>- An A refers to an atomic type.</p>
</blockquote>
<p>In <strong>7.17.6 Atomic Integer Types</strong> paragraph 2 replace</p>
<blockquote>
<p>The semantics of the operations on these types are defined in 7.17.7</p>
</blockquote>
<p>with</p>
<blockquote>
<p>The semantics of the operations on atomic types are defined in 7.17.7</p>
</blockquote>
<hr />
<p>Comment from WG14 on 2017-11-03:</p>
<p>Apr 2015 meeting</p>
<h3>Committee Discussion</h3>
<blockquote>
<p>The first suggested change is incorrect since it is deliberately speaking of the
types declared in <code>&lt;std atomic.h&gt;</code>.</p>
<p>After discussion, the direction is</p>
<p>In <strong>7.17.1 Introduction</strong> p5 replace</p>
<blockquote>
<p>- An A refers to one of the atomic types.</p>
</blockquote>
<p>with</p>
<blockquote>
<p>- An A refers to an atomic type.</p>
</blockquote>
<p>Delete 7.17.6 paragraph 2.</p>
</blockquote>
<p>Oct 2015 meeting</p>
<h3>Committee Discussion</h3>
<blockquote>
<p>The committee accepts the proposed direction as the Proposed Technical
Corrigendum.</p>
</blockquote>
<h3>Proposed Technical Corrigendum</h3>
<p>In 7.17.1p5 replace</p>
<blockquote>
<p>- An A refers to one of the atomic types.</p>
</blockquote>
<p>with</p>
<blockquote>
<p>- An A refers to an atomic type.</p>
</blockquote>
<p>Delete 7.17.6 paragraph 2.</p>

</body>
</html>
