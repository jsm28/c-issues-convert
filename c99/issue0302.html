<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>C issue 0302: 6.10.2p5: Adding underscore to portable include file name character set</title>
<style>
pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.hll { background-color: #ffffcc }
.c { color: #3D7B7B; font-style: italic } /* Comment */
.err { border: 1px solid #FF0000 } /* Error */
.k { color: #008000; font-weight: bold } /* Keyword */
.o { color: #666666 } /* Operator */
.ch { color: #3D7B7B; font-style: italic } /* Comment.Hashbang */
.cm { color: #3D7B7B; font-style: italic } /* Comment.Multiline */
.cp { color: #9C6500 } /* Comment.Preproc */
.cpf { color: #3D7B7B; font-style: italic } /* Comment.PreprocFile */
.c1 { color: #3D7B7B; font-style: italic } /* Comment.Single */
.cs { color: #3D7B7B; font-style: italic } /* Comment.Special */
.gd { color: #A00000 } /* Generic.Deleted */
.ge { font-style: italic } /* Generic.Emph */
.ges { font-weight: bold; font-style: italic } /* Generic.EmphStrong */
.gr { color: #E40000 } /* Generic.Error */
.gh { color: #000080; font-weight: bold } /* Generic.Heading */
.gi { color: #008400 } /* Generic.Inserted */
.go { color: #717171 } /* Generic.Output */
.gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.gs { font-weight: bold } /* Generic.Strong */
.gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.gt { color: #0044DD } /* Generic.Traceback */
.kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.kp { color: #008000 } /* Keyword.Pseudo */
.kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.kt { color: #B00040 } /* Keyword.Type */
.m { color: #666666 } /* Literal.Number */
.s { color: #BA2121 } /* Literal.String */
.na { color: #687822 } /* Name.Attribute */
.nb { color: #008000 } /* Name.Builtin */
.nc { color: #0000FF; font-weight: bold } /* Name.Class */
.no { color: #880000 } /* Name.Constant */
.nd { color: #AA22FF } /* Name.Decorator */
.ni { color: #717171; font-weight: bold } /* Name.Entity */
.ne { color: #CB3F38; font-weight: bold } /* Name.Exception */
.nf { color: #0000FF } /* Name.Function */
.nl { color: #767600 } /* Name.Label */
.nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.nt { color: #008000; font-weight: bold } /* Name.Tag */
.nv { color: #19177C } /* Name.Variable */
.ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.w { color: #bbbbbb } /* Text.Whitespace */
.mb { color: #666666 } /* Literal.Number.Bin */
.mf { color: #666666 } /* Literal.Number.Float */
.mh { color: #666666 } /* Literal.Number.Hex */
.mi { color: #666666 } /* Literal.Number.Integer */
.mo { color: #666666 } /* Literal.Number.Oct */
.sa { color: #BA2121 } /* Literal.String.Affix */
.sb { color: #BA2121 } /* Literal.String.Backtick */
.sc { color: #BA2121 } /* Literal.String.Char */
.dl { color: #BA2121 } /* Literal.String.Delimiter */
.sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.s2 { color: #BA2121 } /* Literal.String.Double */
.se { color: #AA5D1F; font-weight: bold } /* Literal.String.Escape */
.sh { color: #BA2121 } /* Literal.String.Heredoc */
.si { color: #A45A77; font-weight: bold } /* Literal.String.Interpol */
.sx { color: #008000 } /* Literal.String.Other */
.sr { color: #A45A77 } /* Literal.String.Regex */
.s1 { color: #BA2121 } /* Literal.String.Single */
.ss { color: #19177C } /* Literal.String.Symbol */
.bp { color: #008000 } /* Name.Builtin.Pseudo */
.fm { color: #0000FF } /* Name.Function.Magic */
.vc { color: #19177C } /* Name.Variable.Class */
.vg { color: #19177C } /* Name.Variable.Global */
.vi { color: #19177C } /* Name.Variable.Instance */
.vm { color: #19177C } /* Name.Variable.Magic */
.il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
</head>
<body>
<h2>Issue 0302: 6.10.2p5: Adding underscore to portable include file name character set</h2>
<p><strong>This issue has been automatically converted from the original issue lists and some formatting may not have been preserved.</strong></p>
<p>Authors: WG21, Clark Nelson<br />
Date: 2004-10-26<br />
Reference document: <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n1068.htm">ISO/IEC WG14 N1068</a><br />
Submitted against: C99<br />
Status: Fixed<br />
Fixed in: C99 TC3<br />
Converted from: <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/summary-c99.htm">summary-c99.htm</a>, <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/dr_302.htm">dr_302.htm</a></p>
<h3>Summary</h3>
<p>In analyzing the differences in this paragraph between C99 and C++, I
discovered that C89 admitted only letters in include file names with guaranteed
unique mappings. C99 later added digits, while C++ independently added
underscores. I personally don't recall any discussion or rationale behind either
decision. It's clear that simply synchronizing C++ to C99 would be a technical
change, and could (from a pedantic perspective) invalidate some existing code.
The only way to synchronize the two standards without invalidating any existing
code would be to allow underscores and digits in both standards. This may be
considered a good thing in any event.</p>
<p>Note that in my proposed change the terms of reference have changed slightly.
That's because, in the C++ standard, for good or ill, the terms <em>letter</em> and
<em>digit</em> aren't defined in the (earlier) section describing the character set, as
they are in C99 (whereas in C89, the terms appeared there without being
definitions). In C++, <em>letter</em> is defined in the (later) library section, and
<em>digit</em> is defined only as a non-terminal. It would of course be possible to
rearrange things in the C++ standard to more closely match the C standard, but
synchronizing things in this way would be much easier. And again, using the
non-terminal symbols in this context may be considered an improvement in itself.</p>
<h3>Suggested Technical Corrigendum</h3>
<p>Change 6.10.2p5:</p>
<blockquote>
<p>The implementation shall provide unique mappings for sequences consisting of one
or more <del>letters or digits (as defined in 5.2.1)</del> <ins><em>nondigits</em> or
<em>digits</em> (6.4.2.1)</ins> followed by a period (.) and a single <del>letter</del>
<ins><em>nondigit</em></ins>. The first character shall <del>be a letter</del> <ins>not
be a <em>digit</em></ins>. The implementation may ignore the distinctions of
alphabetical case and restrict the mapping to eight significant characters
before the period.</p>
</blockquote>
<hr />
<p>Comment from WG14 on 2006-03-05:</p>
<h3>Technical Corrigendum</h3>
<p>Change 6.10.2p5:</p>
<blockquote>
<p>The implementation shall provide unique mappings for sequences consisting of one
or more <del>letters or digits (as defined in 5.2.1)</del> <ins><em>nondigits</em> or
<em>digits</em> (6.4.2.1)</ins> followed by a period (.) and a single <del>letter</del>
<ins><em>nondigit</em></ins>. The first character shall <del>be a letter</del> <ins>not
be a <em>digit</em></ins>. The implementation may ignore the distinctions of
alphabetical case and restrict the mapping to eight significant characters
before the period.</p>
</blockquote>

</body>
</html>
