<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0 plus SQ/ICADD Tables//EN" "html.dtd"
>
<HTML><HEAD><TITLE>Defect Report #156</TITLE></HEAD>
<BODY><H2>Defect Report #156</H2> 
<B>Submission Date</B>: 16 Oct 95
<BR>
<B>Submittor</B>: BSI
<BR>
<B>Source</B>: Clive D.W. Feather
<BR>
<B>Question</B>
<BR>
<I>Submitted to BSI by Clive D.W. Feather clive@sco.com.</I>
<BR>
<I>In this Defect Report, identifiers lexically identical to those 
declared in standard headers refer to the identifiers declared in  those
standard headers, whether or not the header is explicitly mentioned.</I>

<I>This Defect Report has been prepared with considerable help from 
Mark Brader, Jutta Degener, Ronald Guilmette, and a person whose
employment  conditions require anonymity. However, except where stated,
opinions  expressed or implied should not be assumed to be those of any
person  other than myself.</I>
<BR> Defect Report UK 004: Closed streams
<BR> Calls to <TT><B>fsetpos</B></TT> with positions in closed and
reopened streams  are permitted, but should be undefined.
<BR> The definition of <TT><B>fsetpos</B></TT> (subclause 7.9.9.3)
requires the <TT><B>fpos_t</B></TT>  argument to have a value
generated by a successful call to <TT><B>fgetpos</B></TT>  on the same
stream. However, it does not require the stream to refer  to the same
file. If the stream does not so refer, the effect should  be explicitly
undefined.
<BR>
<B>Suggested Technical Corrigendum:</B>
<BR> In subclause 7.9.9.3, change:
<BR> ... an earlier call to the <TT><B>fgetpos</B></TT> function on
the same  stream.
<BR> to:
<BR> ... an earlier call to the <TT><B>fgetpos</B></TT> function on
the same  stream; there shall not have been an intervening call to the
<TT><B>fclose</B></TT>  or <TT><B>freopen</B></TT> function with
that stream.
<BR> Technical Corrigendum
<BR> In subclause 7.9.9.2, page 145, change:
<BR> ... an earlier successful call to the <TT><B>ftell</B></TT>
function on  the same stream ...
<BR> to:
<BR> ... an earlier successful call to the <TT><B>ftell</B></TT>
function on  a stream associated with the same file ...
<BR> In subclause 7.9.9.3, page 146, change:
<BR> ... an earlier successful call to the <TT><B>fgetpos</B></TT>
function  on the same stream.
<BR> to:
<BR> ... an earlier successful call to the <TT><B>fgetpos</B></TT>
function  on a stream associated with the same file.<BR>
<A HREF="dr_155.html">Previous Defect Report</A>
&lt; - &gt; 
<A HREF="dr_157.html">Next Defect Report</A></BODY></HTML>
