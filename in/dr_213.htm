<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<html>
  <head>
    <meta name="generator" content=
    "HTML Tidy for Windows (vers 1st August 2002), see www.w3.org">

    <title>Defect Report #213</title>
  </head>

  <body>
    <h2 align="center">Defect Report #213</h2>
    <a href="dr_212.htm">Previous Defect Report</a> &lt; - &gt; <a
    href="dr_214.htm">Next Defect Report</a> 

    <p><br>
     <b>Submitter:</b> Clive Feather<br>
     <b>Submission Date:</b> 1999-10-20<br>
     <b>Source:</b><br>
     <b>Reference Document:</b> <a href=
    "http://www.open-std.org/JTC1/SC22/WG14/www/docs/n900.htm">ISO/IEC
    WG14 N900</a><br>
     <b>Version:</b> 1.2<br>
     <b>Date:</b> 2000-11-02 13:50:06<br>
     <b>Subject:</b> Lacuna in <tt><b>mbrtowc</b></tt></p>

    <p><b>Summary</b><br>
     The description of the result of <tt><b>mbrtowc</b></tt> uses
    the term "positive" to distinguish one case from others.
    Unfortunately some of the other cases are also positive,
    because they are negative numbers cast to the (unsigned) type
    <tt><b>size_t</b></tt>.</p>

    <p>The actual return value in this case is always between 1 and
    the value of the parameter <tt><b>n</b></tt> (inclusive):
    positive if the next <i>n</i> or fewer bytes complete a valid
    multibyte character (which is the value stored); the value
    returned is the number of bytes that complete the multibyte
    character.</p>
    <hr>

    <p><b>Technical Corrigendum</b><br>
     In 7.24.6.3.2 paragraph 4, change the label of the case
    "positive" to "between 1 and <tt><b>n</b></tt> inclusive".</p>

    <p><br>
     <a href="dr_212.htm">Previous Defect Report</a> &lt; - &gt; <a
    href="dr_214.htm">Next Defect Report</a></p>
  </body>
</html>

