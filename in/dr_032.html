<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML><HEAD><TITLE>Defect Report #032</TITLE></HEAD><BODY>
<H2>Defect Report #032</H2>

<P><B>Submission Date</B>: 10 Dec 92 <BR>
<B>Submittor</B>: WG14 <BR>
<B>Source</B>: X3J11/91-036 (Stephen D. Clamage) <BR>
<B>Question</B> 1 <BR>
In subclause 6.4, page 55, line 10, a constraint specifies that a comma
operator may not appear in a constant expression (except within the operand
of a <B><TT>sizeof</TT></B> operator). <BR>
At the end of the same section, page 56, line 1, it says, ``An implementation
may accept other forms of constant expressions.'' <BR>
Does the later statement give a license to relax the earlier constraint?
For example, may a conforming implementation accept <BR>
<B><TT>int i = (1, 2);</TT></B> <BR>
without issuing a diagnostic? <BR>
<B>Response</B> <BR>
No, a conforming implementation may not accept this example without issuing
a diagnostic. Constraint violations always require a diagnostic (subclause
5.1.1.3). The intent of the statement ``An implementation may accept other
forms of constant expressions'' (subclause 6.4) is to allow an implementation
to accept syntactic forms, such as might be generated by the <B><TT>offsetof</TT></B>
macro, that may not otherwise be semantically allowed. <BR>
</P>
<A HREF="dr_031.html">Previous Defect Report</A>
&lt; - &gt; 
<A HREF="dr_033.html">Next Defect Report</A>
</BODY></HTML>
