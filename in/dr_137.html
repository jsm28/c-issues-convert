<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML><HEAD><TITLE>Defect Report #137</TITLE></HEAD><BODY>
<H2>Defect Report #137</H2>
<B>Submission Date</B>: 30 Apr 94
<BR>
<B>Submittor</B>: Project Editor (P.J. Plauger)
<BR>
<B>Source</B>: Larry Jones
<BR>
<B>Question</B>
<BR>
Is <TT><B>printf("%.1f", -0.01)</B></TT> required to produce <TT><B>0.0</B></TT>, <TT><B>-0.0</B></TT>, 
or are both acceptable?
<BR>
Subclause 7.9.6.1 says that when the <TT><B>+</B></TT> flag is not specified,  the 
result begins with a sign only when a negative value is converted. 
The description of the <TT><B>f</B></TT> conversion (also <TT><B>e</B></TT> and <TT><B>E</B></TT>) 
says that the value is rounded to the appropriate number of digits. 
Is the value used to determine the sign of the result the value before 
or after rounding?
<BR>
<B>Response</B>
<BR>
As specified in subclause 7.9.6.1 for the <TT><B>+</B></TT> flag, a negative 
value is being converted, so a minus sign is required. The intent 
is that the sign is determined prior to conversion.
<BR>
<A HREF="dr_136.html">Previous Defect Report</A>
&lt; - &gt; 
<A HREF="dr_138.html">Next Defect Report</A>
</BODY></HTML>
