<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML><HEAD><TITLE>Defect Report #XXX</TITLE></HEAD><BODY>
<H2>Defect Report #019</H2>
<B>Submission Date</B>: 10 Dec 92 <BR>
<B>Submittor</B>: WG14 <BR>
<B>Source</B>: X3J11/91-014 (Richard Wiersma) <BR>
<B>Question</B> 1 <BR>
Background: <BR>
Subclause 7.3.1.5 states that ``the <B><TT>isgraph</TT></B> function tests
for any printing character except space.'' Subclause 7.3.1.7 states that
``the <B><TT>isprint</TT></B> function tests for any printing character
including space.'' <BR>
The third paragraph of subclause 7.3 defines the term <I>printing character</I>
as ``a member of an implementation-defined set of characters, each of which
occupies one printing position on a display device.'' <BR>
Subclause 5.2.1 defines the source and execution character sets and provides
a list of characters which must be contained in both sets. <BR>
Question for interpretation: 
Are the <B><TT>isprint</TT></B> and <B><TT>isgraph</TT></B>
functions required to return a non-zero value for all of the characters
defined in subclause 5.2.1? <BR>
A scenario for use of <B><TT>isprint</TT></B>/<B><TT>isgraph</TT></B> that
depends on the interpretation is: A developer may wish to use these functions
to determine whether a particular character can be displayed as itself
(e.g., whether a square bracket is actually displayed as a square bracket).
This could be useful for formatting output in a device-independent manner,
since the application could substitute some other character for ones that
do not print ``correctly.'' <BR>
If <B><TT>isprint</TT></B> and <B><TT>isgraph</TT></B> are required to
return non-zero for all characters in subclause 5.2.1, developers cannot
use them for this purpose. <BR>
This problem has occurred in a real implementation. The most commonly used
terminals and printers for IBM System/370 computers do not support all
of the characters listed in subclause 5.2.1. For example, most IBM printers
and terminals do not print the square brackets. <BR>
The SAS/C implementation of <B><TT>isprint</TT></B> and <B><TT>isgraph</TT></B>
assumes that subclause 7.3 controls the behavior of these functions, and
returns non-zero only for those characters that print ``correctly.'' The
Plum Hall test suite, however, assumes that <B><TT>isprint</TT></B> and
<B><TT>isgraph</TT></B> return non-zero for all characters listed in subclause
5.2.1. <BR>
<B>Response</B> <BR>
Subclause 7.3, page 102, line 8 says that <I>printing character</I> is
implementation-defined. In particular, the value (zero or non-zero) of
<B><TT>isprint('[')</TT></B> is implementation-defined, <I>even in the</I>
<B><TT>&quot;C&quot;<I> locale.</I></TT></B> <BR>
<A HREF="dr_018.html">Previous Defect Report</A>
&lt; - &gt; 
<A HREF="dr_020.html">Next Defect Report</A>
</BODY></HTML>
