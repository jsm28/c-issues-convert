<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML><HEAD><TITLE>Defect Report #027</TITLE></HEAD><BODY>
<H2>Defect Report #027</H2>

<P><B>Submission Date</B>: 10 Dec 92 <BR>
<B>Submittor</B>: WG14 <BR>
<B>Source</B>: X3J11/91-008 (Randall Meyers) <BR>
<B>Question</B> 1 <BR>
May a standard conforming implementation make characters in its character
set that are not in the required source character set identifier characters?
Can these additional identifier characters be used in preprocessor identifier
tokens as well as post-processor identifier tokens? <BR>
Subclause G.5.2 states: </P>

<BLOCKQUOTE>
<P>Characters other than the underscore <B><TT>_</TT></B>, letters, and
digits, that are not defined in the required source character set (such
as the dollar sign <B><TT>$</TT></B>, or characters in national character
sets) may appear in an identifier (subclause 6.1.2). </P>
</BLOCKQUOTE>

<P><B>Response</B> <BR>
May a standard conforming implementation make characters in its character
set that are not in the required source character set identifier characters?
<BR>
<BR>
Answer: Yes. <BR>
Can these additional identifier characters be used in preprocessor identifier
tokens as well as post-processor identifier tokens? <BR>
Answer: Yes, but the C Standard is currently ambiguous about the parsing
of a definition such as: <BR>
<B><TT>#define abc$ x</TT></B> <BR>
This could either define <B><TT>abc$</TT></B> as <B><TT>x</TT></B> or <B><TT>abc</TT></B>
as <B><TT>$x</TT></B>. The Correction that follows resolves the ambiguity.
<BR>
<B>Correction</B> <BR>
<B><I>Add to subclause 6.8, page 86 (Constraints):</I></B> <BR>
In the definition of an object-like macro, if the first character of a
replacement list is not a character required by subclause 5.2.1, then there
shall be white-space separation between the identifier and the replacement
list.<B>*</B> <BR>
[Footnote *: This allows an implementation to choose to interpret the directive:
<BR>
<B><TT>#define THIS$AND$THAT(a, b) ((a) + (b))</TT></B> <BR>
as defining a function-like macro <B><TT>THIS$AND$THAT</TT></B>, rather
than an object-like macro <B><TT>THIS</TT></B>. Whichever choice it makes,
it must also issue a diagnostic.] <BR>
</P>
<A HREF="dr_026.html">Previous Defect Report</A>
&lt; - &gt; 
<A HREF="dr_028.html">Next Defect Report</A>
</BODY></HTML>
