<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>C issue 0CFP.02: Part 1: Functions that round result to narrower type don&#x27;t always</title>
<style>
pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.hll { background-color: #ffffcc }
.c { color: #3D7B7B; font-style: italic } /* Comment */
.err { border: 1px solid #FF0000 } /* Error */
.k { color: #008000; font-weight: bold } /* Keyword */
.o { color: #666666 } /* Operator */
.ch { color: #3D7B7B; font-style: italic } /* Comment.Hashbang */
.cm { color: #3D7B7B; font-style: italic } /* Comment.Multiline */
.cp { color: #9C6500 } /* Comment.Preproc */
.cpf { color: #3D7B7B; font-style: italic } /* Comment.PreprocFile */
.c1 { color: #3D7B7B; font-style: italic } /* Comment.Single */
.cs { color: #3D7B7B; font-style: italic } /* Comment.Special */
.gd { color: #A00000 } /* Generic.Deleted */
.ge { font-style: italic } /* Generic.Emph */
.ges { font-weight: bold; font-style: italic } /* Generic.EmphStrong */
.gr { color: #E40000 } /* Generic.Error */
.gh { color: #000080; font-weight: bold } /* Generic.Heading */
.gi { color: #008400 } /* Generic.Inserted */
.go { color: #717171 } /* Generic.Output */
.gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.gs { font-weight: bold } /* Generic.Strong */
.gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.gt { color: #0044DD } /* Generic.Traceback */
.kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.kp { color: #008000 } /* Keyword.Pseudo */
.kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.kt { color: #B00040 } /* Keyword.Type */
.m { color: #666666 } /* Literal.Number */
.s { color: #BA2121 } /* Literal.String */
.na { color: #687822 } /* Name.Attribute */
.nb { color: #008000 } /* Name.Builtin */
.nc { color: #0000FF; font-weight: bold } /* Name.Class */
.no { color: #880000 } /* Name.Constant */
.nd { color: #AA22FF } /* Name.Decorator */
.ni { color: #717171; font-weight: bold } /* Name.Entity */
.ne { color: #CB3F38; font-weight: bold } /* Name.Exception */
.nf { color: #0000FF } /* Name.Function */
.nl { color: #767600 } /* Name.Label */
.nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.nt { color: #008000; font-weight: bold } /* Name.Tag */
.nv { color: #19177C } /* Name.Variable */
.ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.w { color: #bbbbbb } /* Text.Whitespace */
.mb { color: #666666 } /* Literal.Number.Bin */
.mf { color: #666666 } /* Literal.Number.Float */
.mh { color: #666666 } /* Literal.Number.Hex */
.mi { color: #666666 } /* Literal.Number.Integer */
.mo { color: #666666 } /* Literal.Number.Oct */
.sa { color: #BA2121 } /* Literal.String.Affix */
.sb { color: #BA2121 } /* Literal.String.Backtick */
.sc { color: #BA2121 } /* Literal.String.Char */
.dl { color: #BA2121 } /* Literal.String.Delimiter */
.sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.s2 { color: #BA2121 } /* Literal.String.Double */
.se { color: #AA5D1F; font-weight: bold } /* Literal.String.Escape */
.sh { color: #BA2121 } /* Literal.String.Heredoc */
.si { color: #A45A77; font-weight: bold } /* Literal.String.Interpol */
.sx { color: #008000 } /* Literal.String.Other */
.sr { color: #A45A77 } /* Literal.String.Regex */
.s1 { color: #BA2121 } /* Literal.String.Single */
.ss { color: #19177C } /* Literal.String.Symbol */
.bp { color: #008000 } /* Name.Builtin.Pseudo */
.fm { color: #0000FF } /* Name.Function.Magic */
.vc { color: #19177C } /* Name.Variable.Class */
.vg { color: #19177C } /* Name.Variable.Global */
.vi { color: #19177C } /* Name.Variable.Instance */
.vm { color: #19177C } /* Name.Variable.Magic */
.il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
</head>
<body>
<h2>Issue 0CFP.02: Part 1: Functions that round result to narrower type don't always</h2>
<p><strong>This issue has been automatically converted from the original issue lists and some formatting may not have been preserved.</strong></p>
<p>Authors: WG14, Jim Thomas et al.<br />
Date: 2016-03-19<br />
Reference document: <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2029.pdf">N2029</a><br />
Submitted against: Floating-point TS 18661 (C11 version, 2014-2016)<br />
Status: Fixed<br />
Fixed in: C23<br />
Converted from: <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2397.htm">n2397.htm</a></p>
<h3>Summary</h3>
<h3>Summary</h3>
<p>Page 38: The C 7.12.13a subclause heading is “Functions that round result to
narrower type” and this is the way the functions in the subclause are referred
to throughout the TS. In some cases, the functions in the subclause round their
result to a type that isn’t really narrower than the parameter types. For
example, this is true for the functions <strong>daddl</strong>, <strong>dsubl</strong>, etc. if the <strong>long
double</strong> and <strong>double</strong> types have the same width (as is allowed). (With the
extended types introduced in TS 18661-3, the destination type might be wider, as
it might for <strong>f32xaddf64</strong>.)</p>
<p>The current way of referencing these functions reflects the usual situation, and
is perhaps a helpful way of think about them generally. With a note about the
uncharacteristic cases, it seems unlike to cause significant confusion. Also,
changing all the references to these functions would be a large editorial
undertaking, spanning multiple parts of the TS. Confusion could easily arise
from having an inconsistent set of documents.</p>
<h3>Suggested Technical Corrigendum</h3>
<p>Page 38: After the C 7.12.13a subclause heading, insert the following paragraph:</p>
<blockquote>
<p>[1] The functions in this subclause round their results to a type typically
narrower than the parameter types.</p>
</blockquote>
<p>Page 40: After the change to C ending with “7.12.13a.6 Square root rounded to
narrower type ... [3] These functions return the square root of x, rounded to
the type of the function.”, insert the following:</p>
<blockquote>
<p>In 7.12.13a #1, attach a footnote to the wording:</p>
<blockquote>
<p>typically narrower</p>
</blockquote>
<p>where the footnote is:</p>
<blockquote>
<p>*) In some cases the destination type might not be narrower than the parameter
types. For example, <strong>double</strong> might not be narrower than <strong>long double</strong>.</p>
</blockquote>
</blockquote>
<hr />
<p>Comment from WG14 on 2018-10-18:</p>
<p>Apr 2016 meeting</p>
<h3>Committee Discussion</h3>
<p>The committee agrees that this is a defect and accepts the Suggested Technical
Corrigendum</p>
<h3>Proposed Technical Corrigendum</h3>
<p>Page 38: After the C 7.12.13a subclause heading, insert the following paragraph:</p>
<blockquote>
<p>[1] The functions in this subclause round their results to a type typically
narrower than the parameter types.</p>
</blockquote>
<p>Page 40: After the change to C ending with “7.12.13a.6 Square root rounded to
narrower type ... [3] These functions return the square root of x, rounded to
the type of the function.”, insert the following:</p>
<blockquote>
<p>In 7.12.13a #1, attach a footnote to the wording:</p>
<blockquote>
<p>typically narrower</p>
</blockquote>
<p>where the footnote is:</p>
<blockquote>
<p>*) In some cases the destination type might not be narrower than the parameter
types. For example, <strong>double</strong> might not be narrower than <strong>long double</strong>.</p>
</blockquote>
</blockquote>

</body>
</html>
